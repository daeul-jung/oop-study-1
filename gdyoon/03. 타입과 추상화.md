# 타입과 추상화

**지하철 노선도 디자인**
* 사실적인 지형 묘사는 중요하지 않음
* 역과 역사이의 연결성을 직관적으로 표현하는 것이 중요
<br>

**해리 벡이 고안한 지하철 노선도**
* 노선도의 '정확성' 이 아닌 '목적'에 집중
* 지형이 아닌 연결을 강조. 열차를 갈아타는 것이 목적이기 때문
* 지하철 노선의 추상화

#### 추상화를 통한 복잡성 극복

사람은 본능적으로 이해하기 쉽고 예측 가능한 수준으로 현실을 분해하고 단순화하는 전략을 갖음. <br>
해리 백의 '지하철 노선도' 의 추상화: 지형 정보를 제거하고 역 사이의 연결성 강조 <br>
추상화: 불필요한 부분을 떼어내고 사물의 본질을 드러나게하여 복잡성을 제거하는 행위<br>

#### 객체지향과 추상화

앨리스 이야기: 계급, 나이, 성격 등의 차이점은 무시하고 '트럼프' 라는 유사성을 기반으로 추상화해서 바라봄 <br>

**그룹으로 나누어 단순화하기**

* 정원사, 병사, 신하, 왕자와 공주, 하객 -> 트럼프로 추상화
* 토끼 -> 트럼프가 아님
* 트럼프와 트럼프가 아닌 객체를 나눔

**개념**

* 공통점을 기반으로 묶기 위한 그릇을 의미
* 객체에 적용할 수 있는 관념이나 아이디어
* 개념을 통해 객체를 여러 그룹으로 분류

인스턴스(Instance): 어떤 객체가 특정 개념의 적용을 받을 때 그 객체를 개념의 일원으로써 일컫는 말 <br><br>

**개념의 세가지 관점**

* 심볼(symbol): 개념을 가리키는 간략한 이름이나 명칭 (트럼프를 의미)
* 내연(intension): 개념의 완전한 정의. 이것으로 어떤 객체가 해당 개념에 속하는지 여부를 확인 (트럼프에 대한 설명)
* 외연(extension): 개념에 속하는 모든 객체의 집합 (트럼프를 구성하는 집합 - 병사, 신하, 하객 등)

*즉, 개념을 사용하는 이유는 객체지향 패러다임의 복잡성을 극복하는 가장 기본적인 인지 수단이기 때문*
<br>

**객체를 분류하기 위한 틀**

* 분류(classification): 객체를 특정한 개념의 객체 집합에 포함시키거나 포함시키지 않는 작업
* 적절한 분류 여부에 따라 유지보수나 변경에 영향을 미침

**타입은 개념이다**

* 타입: 공통점을 기반으로 객체를 묶기 위한 틀 (타입=개념)


**데이터 타입**

* 메모리 안에 저장된 데이터의 종류를 분류하는데 사용하는 메모리 집합에 관한 메타데이터

**객체와 타입**

* 객체를 타입에 따라 분류하는 것은 프로그램에서 새로운 데이터 타입을 선언하는 것
* 객체 설계 시 이웃하는 객체와 협력하기 위해 어떤 행동을 해야 할지 고려하여 설계 해야함

**행동이 우선이다**

* 어떤 객체들이 동일하게 행동한다면 그 객체들은 동일한 타입을 의미함
* 두 객체가 서로 다른 행동을 한다면 각각의 타입으로 분류해야 함
* 즉, 객체의 타입을 결정하는 것은 객체의 행동

**트럼프 계층**

* 트럼프 인간 -> 트럼프 타입에 속함
* 트럼프 인간 타입의 객체 = 트럼프 타입 + @(걷기)
* 외연의 관점에서는 트럼프 인간은 트럼프에 속함
* 두 개념 사이의 관계를 일반화/특수화(generalization/specialization) 관계라 함

**일반화/특수화 관계**

* 일반화/특수화 관계의 결정은 객체의 행동 (트럼프 인간은 트럼프의 부분 집합)
* 객체의 행동은 외부에 제공되는 행동을 기준으로 함
* 특수한 타입 = 일반적인 타입 + 더 많은 수의 객체의 행동

**슈퍼타입과 서브타입**

* 슈퍼타입(supertype)=트럼프
* 서브타입(subtype)=트럼프 인간
* 리스코프 치환 원칙. 어떤 타입을 다른 타입의 서브 타입이라 하려면 다른 타입을 대체할 수 있어야 함.

> **리스코프 치환 원칙(LSP)**
> A, B 타입이 존재하고 A가 B의 서브 타입(A -> B) 일 때, A타입의 인스턴스 a와 B타입의 인스턴스 b 를 만들었다고 가정해보자.
> 새로운 변수 B타입의 인스턴스 c를 선언하고 a를 주입한다. 이후, 인스턴스 c를 b로 치환한다 하더라도 c의 행위는 변하지 않는다.