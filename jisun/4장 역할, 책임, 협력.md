# 역할, 책임, 협력

**이번 장의 주제 : 개별적인 객체의 행동이나 상태가 아니라 객체들 간의 협력에 집중하라**

<br>

## 책임
* 책임은 객체지향의 설계의 가장 중요한 재료다.  
   
```크레이그 라만 - "객체지향 개발에서 가장 중요한 능력은 책임을 능숙하게 소프트웨어 객체에 할당하는 것"```

<br>

### 책임의 분류 
* 하는 것
  * 객체를 생성하거나 계산하는 등의 스스로 하는 것
  * 다른 객체의 행동을 시작시키는 것
  * 다른 객체의 활동을 제어하고 조절하는 것
* 아는 것
  * 개인적인 정보에 관해 아는 것
  * 관련된 객체에 관해 아는 것
  * 자신이 유도하거나 게산할 수 있는 것에 관해 아는 것

책임은 객체의 외부에 제공해 줄 수 있는 정보(아는 것의 측면)과 외부에 제공해 줄 수 있는 서비스(하는 것의 측면)의 목록이다.

객체지향의 설계는 협력에 참여하기 위해 어떤 객체가 어떤 책임을 수행해야 하고 어떤 객체로부터 메시지를 수신할 것인지를 결정하는 것으로부터 시작   
(관계 형성이 가장 먼저!!)


<br><br>

## 역할
* 어떤 객체가 수행하는 책임의 집합은 객체가 협력 안에서 수행하는 역할을 암시   
* 역할을 대체할 수 있는 객체는 동일한 메시지를 이해할 수 있는 객체로 한정
* 역할의 개념을 사용하면 유사한 협력을 추상화해서 인지 과부하를 줄일 수 있다.
* 다양한 객체들이 협력에 참여 할 수 있기 때문에 협력이 좀더 유연해지며 재활용성이 높아진다. 역할은 단순성, 유연성, 재사용성을 뒷받침하는 핵심 개념이다.

<br>

### 대체 가능성
* 객체가 역할에 주어진 책임 이외에 다른 책임을 수행할 수 도 있다는 사실에 주목하라
* 객체는 역할이 암시하는 책임보다 더 많은 책임을 가질 수 있다. (일반화/추상화)

<br>

### 흔한 오류
1. 많은 사람들이 시스템에 필요한 데이터를 저장하기 위해 객체가 존재한다는 선입견을 가지고 있다. (행동, 책임이 더 중요)
2. 객체지향이 클래스와 클래스 간의 관계를 표현하는 시스템의 정적인 측면에 중점을 둔다는 것 (협력 안에서 책임과 역할을 수행)

## 협력
협력을 구성하는 데 필요한 일련의 책임을 먼저 고안하고 나면 그 책임을 수행하는데 필요한 객체를 선택하게 된다.

<br> 

### 객체지향 설계 기법
1. 책임-주도 설계
2. 디자인 패턴
3. 테스트 주도 개발

<br>

### 책임-주도 개발
애플리케이션의 기능을 구현하기 위한 협력 관계를 고안하고, 협력에 필요한 역할과 책임을 식별한 후 이를 수행할 수 있는 적절한 객체를 식별해 나가는 과정이다.


* **순서**   
1. 책임으로 분할
2. 객체에 할당
3. 작업을 요청
4. 책임으로 변환


<br>

### 디자인 패턴
전문가들이 반복적으로 사용하는 해결 방법을 정의해 놓은 설계 템플릿 모음

<br>

### 테스트 주도 개발
테스트 주도 개발은 테스트를 작성하는 것이 아니라 책임을 수행할 객체 또는 클라이언트가 기대하는 객체의 역할이 메세지를 수신할 때 어떤 결과를 반환하고 그 과정에서 어떤 객체와 협력할 것인지에 대한 기대를 코드의 형태로 작성하는 것이다.(표현)


